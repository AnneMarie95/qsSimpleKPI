!function(e){function t(n){if(i[n])return i[n].exports;var o=i[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}([function(e,t,i){e.exports=i(6)},function(e,t){e.exports=React},function(e,t,i){try{(function(){"use strict";function i(e){return l.map(function(e){return e.value}).indexOf(e)}function n(e){var t=a.indexOf(e);return-1!==t?100/t:null}Object.defineProperty(t,"__esModule",{value:!0});var o=[{value:"#B0AFAE",label:"",tooltip:""},{value:"#7B7A78",label:"",tooltip:""},{value:"#545352",label:"",tooltip:""},{value:"#4477AA",label:"",tooltip:""},{value:"#7DB8DA",label:"",tooltip:""},{value:"#B6D7EA",label:"",tooltip:""},{value:"#46C646",label:"",tooltip:""},{value:"#F93F17",label:"",tooltip:""},{value:"#FFCF02",label:"",tooltip:""},{value:"#276E27",label:"",tooltip:""},{value:"#FFFFFF",label:"white",tooltip:"white"},{value:"#d01919",label:"red",tooltip:"red"},{value:"#f2711c",label:"orange",tooltip:"orange"},{value:"#fbbd08",label:"yellow",tooltip:"yellow"},{value:"#b5cc18",label:"olive",tooltip:"olive"},{value:"#21ba45",label:"green",tooltip:"green"},{value:"#009c95",label:"teal",tooltip:"teal"},{value:"#2185d0",label:"blue",tooltip:"blue"},{value:"#6435c9",label:"violet",tooltip:"violet"},{value:"#a333c8",label:"purple",tooltip:"purple"},{value:"#e03997",label:"pink",tooltip:"pink"},{value:"#975b33",label:"brown",tooltip:"brown"},{value:"#767676",label:"grey",tooltip:"grey"},{value:"#1b1c1d",label:"black",tooltip:"black"}],l=[{value:"mini",label:"Mini",tooltip:"Mini"},{value:"tiny",label:"Tiny",tooltip:"Tiny"},{value:"small",label:"Small",tooltip:"Small"},{value:"",label:"Normal",tooltip:"Normal"},{value:"large",label:"Large",tooltip:"Large"},{value:"huge",label:"Huge",tooltip:"Huge"}],a=["","one","two","three","four","five","six","seven","eight","nine","ten"],r=[{value:"top attached",label:"top attached"},{value:"bottom attached",label:"bottom attached"},{value:"top right attached",label:"top right attached"},{value:"top left attached",label:"top left attached"},{value:"bottom left attached",label:"bottom left attached"},{value:"bottom right attached",label:"bottom right attached"}],s=[{value:"segment",label:"Segment"},{value:"card",label:"Card"}],c=["s-small","small","medium","large","x-large","xx-large"];t["default"]={COLOR_OPTIONS:o,SIZE_OPTIONS:l,DIVIDE_BY:a,DIM_LABEL_OPTIONS:r,DIM_VIEW_OPTIONS:s,FONT_SIZE_OPTIONS:c,getSizeIndex:i,getDivideByValue:n},e.exports=t["default"]}).call(this)}finally{}},function(e,t,i){try{(function(){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){return e.left===t.left&&e.top===t.top&&e.right===t.right&&e.bottom===t.bottom}function r(e){var t=e.info.type,i=this.accept[t]&&"function"==typeof this.accept[t]?this.accept[t].call(this,e):this.accept[t];i&&(e.registerDropRect(this),this.setupDragDropRect&&this.setupDragDropRect())}function s(){}function c(){var e=arguments.length<=0||void 0===arguments[0]?v:arguments[0];return function(t){var i=t.displayName||t.name||"Component",n=function(n){function c(n){o(this,c),p(Object.getPrototypeOf(c.prototype),"constructor",this).call(this,n),this.qlikDragDropService=n.services.DragDropService,this.DecoratedComponent=t,this.displayName="DragDropContainer > "+i,this.accept=e.accept;var l=e.onDropGridCellHandler||function(e){console.log(e)},a=e.onDropLibraryItemHandler||function(e){console.log(e)};this.drop={gridcell:l.bind(this),libraryitem:a.bind(this)},this.prio=1,this.start=r.bind(this),this.end=s.bind(this),e.onInitStateHandler&&e.onInitStateHandler.call(this)}return l(c,n),u(c,[{key:"componentDidMount",value:function(){this.qlikDragDropService&&(this.setupDragDropRect(),this.qlikDragDropService.registerDropTarget(this)),this.injectObject()}},{key:"componentWillUnmount",value:function(){this.removeObject(),this.qlikDragDropService&&this.qlikDragDropService.unregisterDropTarget(this),this.targetRect=null,this.drawRect=null,this.cellRect=null}},{key:"componentDidUpdate",value:function(){this.injectObject(),this.repaintObject()}},{key:"render",value:function(){var e=this.DecoratedComponent;return f["default"].createElement(e,this.props)}},{key:"getRect",value:function(){var e=f["default"].findDOMNode(this),t=e.getBoundingClientRect(),i=$(e).parent();return{left:t.left-i.scrollLeft(),top:t.top-i.scrollTop(),right:t.right-i.scrollLeft()||t.left-i.scrollLeft()+t.width,bottom:t.bottom-i.scrollTop()||t.top-i.scrollTop()+t.height}}},{key:"setupDragDropRect",value:function(){var e=this.getRect();this.targetRect=e,this.drawRect=e,this.cellRect=e}},{key:"getPlaceholderElement",value:function(){var e=f["default"].findDOMNode(this),t=e.getElementsByClassName(this.placeClassName||"placeholder")[0];return t||(t=e),e}},{key:"injectObject",value:function(){var t=this.getPlaceholderElement();e.onInjectObjectHandler&&e.onInjectObjectHandler.call(this,t)}},{key:"repaintObject",value:function(){var t=this.getRect();a(this.cellRect,t)||this.setupDragDropRect();var i=this.getPlaceholderElement();e.onRepaintObjectHandler&&e.onRepaintObjectHandler.call(this,i)}},{key:"removeObject",value:function(){var t=this.getPlaceholderElement();e.onRemoveObjectHandler&&e.onRemoveObjectHandler.call(this,t)}}]),c}(d.Component);return n}}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),p=function(e,t,i){for(var n=!0;n;){var o=e,l=t,a=i;r=c=s=void 0,n=!1,null===o&&(o=Function.prototype);var r=Object.getOwnPropertyDescriptor(o,l);if(void 0!==r){if("value"in r)return r.value;var s=r.get;return void 0===s?void 0:s.call(a)}var c=Object.getPrototypeOf(o);if(null===c)return void 0;e=c,t=l,i=a,n=!0}};t["default"]=c;var d=i(1),f=n(d),v={accept:{libraryitem:function(){return!0},gridcell:function(){return!0}}};e.exports=t["default"]}).call(this)}finally{}},function(e,t,i){try{(function(){"use strict";function e(e,t){var i=e,n=t,o=t.split(".");if(o.length>0){for(var l=0;l<o.length-1;++l)i[o[l]]&&(i=i[o[l]]);n=o[o.length-1]}return{ref:i,name:n}}function i(t,i,n){var o=e(t,i),l=o.ref,a=o.name;l[a]=n}function n(t,i){var n=e(t,i),o=n.ref,l=n.name;return o[l]}Object.defineProperty(t,"__esModule",{value:!0}),t.setRefValue=i,t.getRefValue=n}).call(this)}finally{}},function(e,t,i){try{(function(){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=function(e,t,i){for(var n=!0;n;){var o=e,l=t,a=i;r=c=s=void 0,n=!1,null===o&&(o=Function.prototype);var r=Object.getOwnPropertyDescriptor(o,l);if(void 0!==r){if("value"in r)return r.value;var s=r.get;return void 0===s?void 0:s.call(a)}var c=Object.getPrototypeOf(o);if(null===c)return void 0;e=c,t=l,i=a,n=!0}},s=i(1),c=n(s),u=i(3),p=n(u),d=44,f=function(e){function t(){o(this,t),r(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return l(t,e),a(t,[{key:"render",value:function(){var e=this.props.valueStyles;return c["default"].createElement("div",{className:"value",style:e},this.props.children)}}]),t}(s.Component),v={placeClassName:"value",accept:{libraryitem:function(e){return e.info&&e.info.item&&e.info.item.visualization||e.item&&e.item.visualization}},onInitStateHandler:function(){this.state={isObjectInjected:!1,itemid:this.props.embeddedItem,object:null}},onDropLibraryItemHandler:function(e){this.removeObject(),this.setState({itemid:e.item.id,isObjectInjected:!1});var t=this.props.measureIndex,i=this.props.services.QlikComponent&&this.props.services.QlikComponent.backendApi;i.getProperties().then(function(n){var o=n.qHyperCubeDef.qMeasures;t<o.length&&(o[t].qDef.embeddedItem=e.item.id,i.setProperties(n))})},onInjectObjectHandler:function(e){var t=this;if(!this.props.embeddedItem)return this.removeObject();if(!this.state.itemid||!this.state.isObjectInjected){this.removeObject();var i=this,n=this.state.itemid,o=this.props.services.Qlik;n&&n.trim().length>0&&(c["default"].unmountComponentAtNode(e),o.currApp().getObject(e,n).then(function(l){i.onObjectInvalidated=function(){l.layout.qSelectionInfo.qInSelections?$(e).css("margin-top",d+"px"):($(e).css("margin-top","0px"),o.resize(n))},l.Validated.bind(t.onObjectInvalidated);var a=$(e).width(),r=$(e).height();t.setState({itemid:n,object:l,isObjectInjected:!0}),t.width=a,t.height=r,o.resize(n)}))}},onRepaintObjectHandler:function(e){if(this.state.object){var t=0;this.state.object.layout.qSelectionInfo.qInSelections&&(t=d);var i=this.props.kpisRows,n=this.props.mainContainerElement,o=Math.floor((.9*n.clientHeight||$(n).height())/i),l=$(e).height(),a=$(e).width(),r=o-t;r>0&&(l>r||r>l)?($(e).height(r),this.height=r,this.props.services.Qlik.resize(this.state.itemid)):(a>this.width||a<this.width)&&(Math.abs(a-this.width)>5&&this.props.services.Qlik.resize(this.state.itemid),this.width=a)}},onRemoveObjectHandler:function(e){this.state.object&&(this.onObjectInvalidated&&(this.state.object.Validated.unbind(this.onObjectInvalidated),this.onObjectInvalidated=null),this.state.object.close(),this.state.object=null,$(e).empty(),$(e).height("auto"),c["default"].render(c["default"].createElement("span",null,this.props.children),e),this.setState({itemid:null,object:null,isObjectInjected:!1}))}};t["default"]=p["default"](v)(f),e.exports=t["default"]}).call(this)}finally{}},function(e,t,i){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{"default":e}}var t=i(12),n=e(t),o=window,l=o.define||l,a=["module","qlik","client.utils/routing","client.utils/state","objects.utils/number-formatter","general.services/show-service/show-service","general.utils/drag-and-drop-service"];o.React||a.push("./vendors/react.min"),l(a,function(e,t,l,a,r,s,c,u){var p=e.uri.split("/").slice(0,-1).join("/");n["default"](p+"/styles.css"),u&&!o.React&&(o.React=u);var d=i(11),f=i(7)({ShowService:s}),v=i(13)({qlik:t,Routing:l,State:a,NumberFormatter:r,DragDropService:c});return{initialProperties:d,definition:f,paint:v,snapshot:{canTakeSnapshot:!0}}})}).call(this)}finally{}},function(e,t,i){try{(function(){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(8),o=i(10),l=i(2);t["default"]=function(e){var t=e.ShowService,i={type:"items",uses:"dimensions",ref:"qHyperCubeDef.qDimensions",min:0,max:1,allowAdd:!0,allowRemove:!0},a={type:"items",uses:"measures",ref:"qHyperCubeDef.qMeasures",disabledRef:"qHyperCubeDef.qLayoutExclude.qHyperCubeDef.qMeasures",min:1,max:256,allowAdd:!0,allowRemove:!0,allowMove:!0,items:{autoFormatTemplate:{type:"string",label:"Auto format",translation:"properties.numberFormatting.formatPattern",ref:"qDef.autoFormatTemplate",defaultValue:"0A",show:function(e){return"U"===e.qDef.qNumFormat.qType}},labelColor:{type:"string",ref:"qDef.labelColor",label:"Label color",expression:"always",defaultValue:"#545352"},pickLabelColor:{type:"string",component:n.ColorsPickerComponent,ref:"qDef.labelColor",defaultValue:"#545352",options:l.COLOR_OPTIONS},itemColor:{type:"string",ref:"qDef.valueColor",label:"Value color",expression:"always",defaultValue:"#808080"},pickItemColor:{type:"string",component:n.ColorsPickerComponent,ref:"qDef.valueColor",defaultValue:"#808080",options:l.COLOR_OPTIONS},linkToSheet:{type:"items",items:{useLink:{ref:"qDef.useLink",type:"boolean",component:"switch",translation:"properties.kpi.linkToSheet",defaultValue:!1,options:[{value:!0,translation:"properties.on"},{value:!1,translation:"properties.off"}]},kpiLink:{ref:"qDef.kpiLink",type:"items",component:"sheet-dropdown",items:{id:{ref:"qDef.kpiLink.id",type:"string"},title:{ref:"qDef.kpiLink.title",type:"string"}},show:function(e){return e.qDef.useLink}}}},groupByDimension:{type:"boolean",label:"Group by dimension",ref:"qDef.groupByDimension",defaultValue:!1},groupByDimensionValue:{type:"string",ref:"qDef.groupByDimensionValue",label:"Dimension Value",expression:"always",defaultValue:"",show:function(e){return e.qDef.groupByDimension}},overrideParams:{type:"boolean",label:"Override parameters",ref:"qDef.ovParams",defaultValue:!1},size:{type:"string",component:"dropdown",label:"Size",ref:"qDef.size",options:l.SIZE_OPTIONS,defaultValue:"",show:function(e){return e.qDef.ovParams}},hideLabel:{type:"boolean",label:"Hide label",ref:"qDef.hideLabel",defaultValue:!1},labelOrientation:{type:"string",component:"buttongroup",label:"Labels orientation",ref:"qDef.labelOrientation",options:[{value:"horizontal",label:"Horizontal",tooltip:"Horizontal"},{value:"",label:"Vertical",tooltip:"Vertical"}],defaultValue:"",show:function(e){return e.qDef.ovParams&&!e.qDef.hideLabel}},labelOrder:{type:"string",component:"buttongroup",label:"Labels order",ref:"qDef.labelOrder",options:[{value:"first",label:"Label, Value",tooltip:"Label, Value"},{value:"last",label:"Value, Label",tooltip:"Value, Label"}],defaultValue:"first",show:function(e){return e.qDef.ovParams&&!e.qDef.hideLabel}},fontStyle:{type:"string",ref:"qDef.fontStyles",label:"Font style",expression:"always",defaultValue:"",show:!0},pickFontStyle:{type:"string",component:n.FontStylesComponent,ref:"qDef.fontStyles",defaultValue:"",show:function(e){return"object"!=typeof e.qDef.fontStyles}},textAlignment:{type:"string",component:"item-selection-list",icon:!0,horizontal:!0,label:"Alignment",translation:"properties.Alignment",ref:"qDef.textAlignment",defaultValue:"center",items:[{value:"left",component:"icon-item",icon:"M"},{value:"center",icon:"O",component:"icon-item"},{value:"right",icon:"N",component:"icon-item"}]},itemIcon:{type:"string",ref:"qDef.valueIcon",label:"Icon",expression:"always",defaultValue:"",show:!0},pickItemIcon:{type:"string",component:n.SelectIconDialogComponent(t),ref:"qDef.valueIcon",defaultValue:"",options:o.FULL_ICONS_SET},iconPosition:{type:"string",component:"buttongroup",label:"Icon position",ref:"qDef.iconPosition",options:[{value:"value",label:"Value",tooltip:"Value"},{value:"label",label:"Label",tooltip:"Label"}],defaultValue:"label",show:function(e){return e.qDef.valueIcon}},iconOrder:{type:"string",component:"buttongroup",label:"Icon order",ref:"qDef.iconOrder",options:[{value:"first",label:"Icon, Value",tooltip:"Icon, Value"},{value:"last",label:"Value, Icon",tooltip:"Value, Icon"}],defaultValue:"first",show:function(e){return e.qDef.valueIcon}},iconSize:{type:"string",component:"dropdown",label:"Icon size",ref:"qDef.iconSize",show:function(e){return e.qDef.valueIcon},options:l.SIZE_OPTIONS,defaultValue:""},infographicMode:{type:"boolean",label:"Infographic mode",ref:"qDef.infographic",defaultValue:!1},embeddedItem:{type:"string",ref:"qDef.embeddedItem",label:"Visualization",expression:"always",defaultValue:"",show:!0}}},r={type:"items",uses:"settings",items:{dimensionsOptions:{type:"items",label:"Dimensions",translation:"Common.Dimensions",items:{showAs:{type:"string",component:"dropdown",label:"Show as",ref:"options.dimShowAs",options:l.DIM_VIEW_OPTIONS,defaultValue:"segment"},divideBy:{type:"string",component:"dropdown",label:"Items per row",ref:"options.dimDivideBy",defaultValue:"auto",show:function(e){return"card"===e.options.dimShowAs},options:[{value:"auto",label:"Auto",tooltip:"Auto"},{value:"one",label:"1",tooltip:"One"},{value:"two",label:"2",tooltip:"Two"},{value:"three",label:"3",tooltip:"Three"},{value:"four",label:"4",tooltip:"Four"},{value:"five",label:"5",tooltip:"Four"},{value:"six",label:"6",tooltip:"Six"},{value:"seven",label:"7",tooltip:"Seven"},{value:"eight",label:"8",tooltip:"Eight"},{value:"nine",label:"9",tooltip:"Nine"},{value:"ten",label:"10",tooltip:"Ten"}]},dimensionsOrientation:{type:"string",component:"buttongroup",label:"Orientation",ref:"options.dimensionsOrientation",show:function(e){return"segment"===e.options.dimShowAs},options:[{value:"horizontal",label:"Horizontal",tooltip:"Horizontal"},{value:"vertical",label:"Vertical",tooltip:"Vertical"}],defaultValue:"horizontal"},labelOrientation:{type:"string",component:"dropdown",label:"Labels",ref:"options.dimLabelOrientation",options:l.DIM_LABEL_OPTIONS,defaultValue:"top attached"},labelSize:{type:"string",component:"dropdown",label:"Size",ref:"options.dimLabelSize",options:l.SIZE_OPTIONS,defaultValue:""},hideLabel:{type:"boolean",label:"Hide labels",ref:"options.dimHideLabels",defaultValue:!1},centeredLabel:{type:"boolean",label:"Center aligned labels",ref:"options.dimCenteredLabels",defaultValue:!1},hideBorders:{type:"boolean",label:"Hide external borders",ref:"options.dimHideBorders",defaultValue:!1},hideInternalBorders:{type:"boolean",label:"Hide internal borders",ref:"options.dimHideInternalBorders",defaultValue:!1,show:function(e){return"segment"===e.options.dimShowAs}}}},measuresOptions:{type:"items",label:"Measures",translation:"Common.Measures",items:{labelOrientation:{type:"string",component:"buttongroup",label:"Labels orientation",ref:"options.labelOrientation",options:[{value:"horizontal",label:"Horizontal",tooltip:"Horizontal"},{value:"",label:"Vertical",tooltip:"Vertical"}],defaultValue:""},labelOrder:{type:"string",component:"buttongroup",label:"Labels order",ref:"options.labelOrder",options:[{value:"first",label:"Label, Value",tooltip:"Label, Value"},{value:"last",label:"Value, Label",tooltip:"Value, Label"}],defaultValue:"first"},size:{type:"string",component:"dropdown",label:"Size",ref:"options.size",options:l.SIZE_OPTIONS,defaultValue:""},autoSize:{type:"boolean",component:"switch",label:"Responsive size",ref:"options.autoSize",defaultValue:!1,options:[{value:!0,label:"On"},{value:!1,label:"Off"}]},divideBy:{type:"string",component:"dropdown",label:"Items per row",ref:"options.divideBy",defaultValue:"auto",options:[{value:"",label:"Not set",tooltip:"Not set"},{value:"auto",label:"Auto",tooltip:"Auto"},{value:"one",label:"1",tooltip:"One"},{value:"two",label:"2",tooltip:"Two"},{value:"three",label:"3",tooltip:"Three"},{value:"four",label:"4",tooltip:"Four"},{value:"five",label:"5",tooltip:"Four"},{value:"six",label:"6",tooltip:"Six"},{value:"seven",label:"7",tooltip:"Seven"},{value:"eight",label:"8",tooltip:"Eight"},{value:"nine",label:"9",tooltip:"Nine"},{value:"ten",label:"10",tooltip:"Ten"}]}}},stylingOptions:{type:"items",label:"Styles",translation:"Styles",items:{styles:{type:"string",component:n.TextEditorComponent,label:"Styles (CSS)",ref:"options.styles",defaultValue:""}}}}},s={uses:"sorting"};return{type:"items",component:"accordion",items:{dims:i,kpis:a,sorting:s,settings:r}}},e.exports=t["default"]}).call(this)}finally{}},function(e,t,i){try{(function(){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.defineProperty(t,"__esModule",{value:!0});var l=i(4),a=i(9),r=n(a),s={template:'\n    <div class="pp-component" ng-if="visible">\n          <div class="label" ng-if="label" ng-class="{ \'disabled\': readOnly }">\n            {{label}}\n          </div>\n          <div class="value">\n            <div class="qv-object-qsstatistic" ng-if="!loading">\n              <div class="ui mini right labeled">\n                <input type="color" ng-model="t.value" ng-change="onColorChange()">\n                <a title="{{colorExpression}}" class="ui tag label" qva-activate="showPallete()" style="color: #00; background-color: {{t.value}};">\n                  <span ng-if="!isColorExpression" style="color: #ffffff; font-size: 16px;">{{t.value}}</span>\n                  <i class="icon-expression" ng-if="isColorExpression" style="font-size: 16px;"></i>\n                </a>\n              </div>\n              <div ng-if="showColorPallete">\n                <button ng-repeat="option in options track by option.value"\n                  class="ui mini icon button"\n                  ng-disabled="readOnly"\n                  style="margin: 1px; background-color: {{option.value}};"\n                  qva-activate="onColorChange(option.value)" tid="{{option.value}}" data-icon="{{definition.icon}}"\n                  q-title-translation="{{option.tooltip || option.label}}">\n                  <i class="checkmark icon" style="color: #ffffff; font-size:17px;" ng-if="option.value == t.value"></i>\n                  <i class="icon" style="font-size:17px;" ng-if="option.value != t.value"></i>\n                </button>\n              </div>\n            </div>\n            <div class="pp-loading-container" ng-if="loading">\n              <div class="pp-loader qv-loader"></div>\n            </div>\n            <div ng-if="errorMessage" class="pp-invalid error">{{errorMessage}}</div>\n          </div>\n    </div>\n    ',controller:["$scope","$element",function(e,t){function i(){e.loading=!0,e.errorMessage="",e.label=e.definition.label,e.options=e.definition.options,e.isColorExpression=!1,e.colorExpression="";var t=l.getRefValue(e.data,e.definition.ref);"object"==typeof t&&(e.isColorExpression=!0,e.colorExpression=t&&t.qStringExpression&&t.qStringExpression.qExpr||"",t=e.definition.defaultValue),e.t={value:t},e.visible=!0,e.showColorPallete=!1,e.loading=!1}i(),e.onColorChange=function(t){if(t&&(e.t.value=t),e.isColorExpression){var i=l.getRefValue(e.data,e.definition.ref);i&&i.qStringExpression&&i.qStringExpression.qExpr?i.qStringExpression.qExpr+=e.t.value:l.setRefValue(e.data,e.definition.ref,e.t.value)}else l.setRefValue(e.data,e.definition.ref,e.t.value);"function"==typeof e.definition.change&&e.definition.change(e.data,e.args.handler),e.$emit("saveProperties"),e.showColorPallete=!1},e.showPallete=function(){e.showColorPallete=!e.showColorPallete},e.$on("datachanged",function(){i()})}]},c={template:'<div class="pp-component pp-buttongroup-component qv-object-qsstatistic" ng-if="visible">\n      <div class="label" ng-if="label" ng-class="{ \'disabled\': readOnly }">\n        {{label}}\n      </div>\n      <div class="qui-buttongroup" ng-if="!loading && !isExpression">\n        <button\n          class="qui-button"\n          ng-class="{\'qui-active\':states.bold}"\n          ng-disabled="readOnly"\n          qva-activate="select(\'bold\')"\n          q-title-translation="Bold">\n          <i class="icon bold" style="font-color: white; font-size:18px;"></i>\n        </button>\n        <button\n          class="qui-button"\n          ng-class="{\'qui-active\':states.italic}"\n          ng-disabled="readOnly"\n          qva-activate="select(\'italic\')"\n          q-title-translation="Italic">\n          <i class="icon italic" style="font-color: white; font-size:18px;"></i>\n        </button>\n        <button\n          class="qui-button"\n          ng-class="{\'qui-active\':states.underline}"\n          ng-disabled="readOnly"\n          qva-activate="select(\'underline\')"\n          q-title-translation="Underline">\n          <i class="icon underline" style="font-color: white; font-size:18px;"></i>\n        </button>\n      </div>\n\n      <div class="pp-loading-container" ng-if="loading">\n        <div class="pp-loader qv-loader"></div>\n      </div>\n\n      <div ng-if="errorMessage" class="pp-invalid error">{{errorMessage}}</div>\n    </div>',controller:["$scope",function(e){function t(){e.loading=!0,e.errorMessage="",e.label=e.definition.label,e.isExpression=!1;var t=l.getRefValue(e.data,e.definition.ref);if(e.states={},t){"object"==typeof t&&t.qStringExpression&&(e.isExpression=!0,t=t.qStringExpression.qExpr||"");var i=t.split(",");i.forEach(function(t){e.states[t]=t})}e.visible=!0,e.loading=!1}e.select=function(t){e.states[t]?delete e.states[t]:e.states[t]=t;var i=Object.keys(e.states).join(",");if(e.isExpression){var n=l.getRefValue(e.data,e.definition.ref);n&&n.qStringExpression&&n.qStringExpression.qExpr?n.qStringExpression.qExpr+=i:l.setRefValue(e.data,e.definition.ref,i)}else l.setRefValue(e.data,e.definition.ref,i);"function"==typeof e.definition.change&&e.definition.change(e.data,e.args.handler),e.$emit("saveProperties")},e.$on("datachanged",function(){t()}),t()}]},u={template:'\n  <div class="pp-component" ng-if="visible">\n        <div class="label" ng-if="label" ng-class="{ \'disabled\': readOnly }">\n          {{label}}\n        </div>\n        <div class="value">\n          <div class="qv-object-qsstatistic" ng-if="!loading">\n            <textarea rows="5" ng-model="t.value" ng-change="onTextChange()" style="width: 100%; max-width: 100%;">\n            </textarea>\n          </div>\n        </div>\n        <div class="pp-loading-container" ng-if="loading">\n          <div class="pp-loader qv-loader"></div>\n        </div>\n        <div ng-if="errorMessage" class="pp-invalid error">{{errorMessage}}</div>\n  </div>\n  ',controller:["$scope",function(e){function t(){e.loading=!0,e.errorMessage="",e.label=e.definition.label,e.t={value:l.getRefValue(e.data,e.definition.ref)},e.visible=!0,e.loading=!1}e.onTextChange=function(){l.setRefValue(e.data,e.definition.ref,e.t.value),"function"==typeof e.definition.change&&e.definition.change(e.data,e.args.handler),e.$emit("saveProperties")},e.$on("datachanged",function(){t()}),t()}]},p=function(e){return r["default"](e,function(){function e(e,t){var i=-1;return e.isExpression||"string"!=typeof e.value||(i=e.value.search(new RegExp("\\s"+t))),i}var t=$(document).height(),i="85%",n="auto";return{text:"Icons",icon:"",initContext:function(e,t){e.isExpression=!1,e.isNotSet=!1,"object"==typeof e.value&&e.value.qStringExpression?(e.isExpression=!0,e.iconExpression=e.value.qStringExpression.qExpr||""):"string"==typeof e.value&&0===e.value.trim().length&&(e.isNotSet=!0,e.iconExpression="Select icon",e.value="ellipsis horizontal icon")},controlComponent:'\n    <button\n      class="qui-button"\n      title="{{iconExpression}}"\n      qva-activate="showDialog()"\n      ng-disabled="readOnly">\n      <i class="{{value}}" ng-if="!isExpression" style="font-size:18px;"></i>\n      <i class="icon-expression" ng-if="isExpression" style="font-size:18px;"></i>\n    </button>\n    <span ng-if="!isExpression && !isNotSet">{{value}}</span>\n    <span ng-if="isNotSet">{{iconExpression}}</span>\n    ',initDialogContext:function(t,i){var n;i.iconOptions=(n={disabled:"Disabled",loading:"Loading"},o(n,"horizontally flipped","Horizontally flipped"),o(n,"vertically flipped","Vertically flipped"),o(n,"clockwise rotated","Clockwise rotated"),o(n,"counterclockwise rotated","Counterclockwise rotated"),n),i.opts={};for(var l in i.iconOptions)i.opts[l]=-1!=e(t,l);i.isExpression=t.isExpression,i.options=t.definition.options},selectValue:function(e,t){if(e.isExpression=!1,e.iconOptions[t]){var i=e.value||"",n=e.opts[t],o=new RegExp("\\s"+t),l=i.search(o);return n&&-1===l?(i=i.concat(" ",t),e.opts[t]=!0):n||-1==l||(i=i.replace(o,""),e.opts[t]=!1),i}var a=t;for(var r in e.iconOptions)e.opts[r]&&(a+=" "+r);return a},dialogContent:'\n    <div class="qv-object-qsstatistic">\n      <style scoped>\n        #my-confirm-dialog {\n          width: '+i+";\n          height: "+n+';\n        }\n      </style>\n      <div style="height: auto; font-size:3em;">\n        <i class="{{value}}" ng-if="!isExpression"></i><span ng-if="!isExpression" style="font-size:0.5em;">{{value}}</span>\n        <i class="icon-expression" ng-if="isExpression" style="font-size:18px;"></i>\n      </div>\n      <div style="overflow:auto; -webkit-overflow-scrolling:touch; height:'+t/2+'px; border: solid 1px #f2f2f2;border-radius:5px;padding:5px">\n      <div ng-repeat="(category, icons) in options">\n        <h1 style="margin-top:1em;">{{category}}</h1>\n        <button ng-repeat="icon in icons track by $index"\n          class="ui tiny icon button"\n          title="{{icon}}"\n          ng-disabled="readOnly"\n          qva-activate="select(icon)"\n          style="width: 40px; height: 40px; padding: 1px; margin: 2px;">\n          <div><i class="{{icon}}" style="margin: 0; font-size: 1.3em"></i></div>\n        </button>\n      </div>\n      </div>\n      <div style="margin-top: 10px;">\n        <span ng-repeat-start="(iconOption, iconOptLabel) in iconOptions track by iconOption" />\n        <label\n          class="qui-checkboxicon"\n          title="{{iconOptLabel}}"\n          ng-class="{ \'qui-hover\': hover }"\n          ng-mouseenter="hover = true"\n          ng-mouseleave="hover = false">\n          <input type="checkbox"\n            ng-model="opts[iconOption]"\n            ng-change="select(iconOption)">\n          <div class="check-wrap">\n            <span class="check"></span>\n            <span class="check-text" style="max-width: 200px">{{iconOptLabel}}</span>\n          </div>\n        </label>\n        <span ng-repeat-end>&nbsp;</span>\n      </div>\n    </div>\n    '}}())};t["default"]={ColorsPickerComponent:s,FontStylesComponent:c,TextEditorComponent:u,SelectIconDialogComponent:p},e.exports=t["default"]}).call(this)}finally{}},function(e,t,i){try{(function(){"use strict";function n(e,t){var i=t.controlComponent||'\n  <button\n    class="qui-button"\n    title="Show dialog"\n    qva-activate="showDialog()">\n    <i class="{{icon}}" style="font-size:18px;"></i>\n  </button>\n  ';return{template:'<div class="pp-component pp-buttongroup-component">\n      <div class="label" ng-if="label" ng-class="{ \'disabled\': readOnly }">\n        {{label}}\n      </div>\n      <div class="value">\n        <div class="qv-object-qsstatistic" ng-if="!loading">\n        '+i+'\n        </div>\n      </div>\n      <div class="pp-loading-container" ng-if="loading">\n        <div class="pp-loader qv-loader"></div>\n      </div>\n      <div ng-if="errorMessage" class="pp-invalid error">{{errorMessage}}</div>\n    </div>',controller:["$scope","$element",function(i,n){function l(e,i){e.visible=!1,e.loading=!0,e.label=e.definition.label,e.value=o.getRefValue(e.data,e.definition.ref)||e.definition.defaultValue,e.icon="function"==typeof e.definition.icon&&e.definition.icon(e,i)||e.definition.icon||"",e.visible=!0,t&&t.initContext&&"function"==typeof t.initContext&&t.initContext(e,i),e.loading=!1}function a(t,i){var n=i.text,o=void 0!==i.icon?i.icon:"cogwheel",l=i.confirm||"Common.OK",a=i.width||"100%",r=i.height||"auto",s={text:n,header:i.header,icon:o,confirmLabel:l,width:a,height:r};return e.show(t,s)}l(i,n),i.changeValue=function(e){if(i.value=e,i.isExpression){var t=o.getRefValue(i.data,i.definition.ref);t&&t.qStringExpression&&t.qStringExpression.qExpr?t.qStringExpression.qExpr+=i.value:o.setRefValue(i.data,i.definition.ref,i.value)}else o.setRefValue(i.data,i.definition.ref,e);"function"==typeof i.definition.change&&i.definition.change(i.data,i.args.handler),o.setRefValue(i.data,i.definition.ref,e),i.$emit("saveProperties")},i.$on("datachanged",function(){l(i,n)}),i.showDialog=function(){var e={template:'\n              <qv-modal-dialog qv-id="my-confirm-dialog"\n                qv-cancel="cancel()"\n                qv-confirm="confirm()">\n                <header ng-if="header" class="dm-header" q-translation="{{header}}"></header>\n                <main class="dm-main">\n                  <div class="qv-mvc-dialog-content">\n                    <div class="qv-mvc-dialog-icon icon-{{icon}}" ng-show="icon">\n                    </div>\n                    <p><span q-translation="{{text}}"></span></p>\n                  </div>\n                  <div style="width:{{width}};height:{{height}}">'+(t.dialogContent||"")+'</div>\n                </main>\n                <qv-confirm-cancel-footer qv-confirm="confirm()" qv-cancel="cancel()" qv-confirm-label="{{$parent.confirmLabel}}"></qv-confirm-cancel-footer>\n              </qv-modal-dialog>',
scope:{text:"=",header:"=",icon:"=",confirmLabel:"=",width:"=",height:"="},controller:["$scope",function(e){e.value=i.value,e.select=function(i){t.selectValue?e.value=t.selectValue(e,i):e.value=i},e.confirm=function(){i.changeValue(e.value),e.destroyComponent(),e.deferredResult.resolve()},e.cancel=function(){e.destroyComponent(),e.deferredResult.reject()},t&&t.initDialogContext&&"function"==typeof t.initDialogContext&&t.initDialogContext(i,e)}]};a(e,t)}}]}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n;var o=i(4);e.exports=t["default"]}).call(this)}finally{}},function(e,t,i){try{(function(){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={"Web content":["alarm icon","alarm slash icon","alarm outline icon","alarm slash outline icon","at icon","browser icon","bug icon","calendar outline icon","calendar icon","cloud icon","comment icon","comments icon","comment outline icon","comments outline icon","copyright icon","dashboard icon","dropdown icon","external square icon","external icon","eyedropper icon","feed icon","find icon","heartbeat icon","history icon","home icon","idea icon","inbox icon","lab icon","mail icon","mail outline icon","mail square icon","map icon","options icon","paint brush icon","payment icon","phone icon","phone square icon","privacy icon","protect icon","search icon","setting icon","settings icon","shop icon","sidebar icon","signal icon","sitemap icon","tag icon","tags icon","tasks icon","terminal icon","text telephone icon","ticket icon","trophy icon","wifi icon"],"User actions":["adjust icon","add user icon","add to cart icon","archive icon","ban icon","bookmark icon","call icon","call square icon","cloud download icon","cloud upload icon","compress icon","configure icon","download icon","edit icon","erase icon","exchange icon","external share icon","expand icon","filter icon","flag icon","flag outline icon","forward mail icon","hide icon","in cart icon","lock icon","pin icon","print icon","random icon","recycle icon","refresh icon","remove bookmark icon","remove user icon","repeat icon","reply all icon","reply icon","retweet icon","send icon","send outline icon","share alternate icon","share alternate square icon","share icon","share square icon","sign in icon","sign out icon","theme icon","translate icon","undo icon","unhide icon","unlock alternate icon","unlock icon","upload icon","wait icon","wizard icon","write icon","write square icon"],Message:["announcement icon","birthday icon","help icon","help circle icon","info icon","info circle icon","warning icon","warning circle icon","warning sign icon"],"User Types":["child icon","doctor icon","handicap icon","spy icon","student icon","user icon","users icon"],Gender:["female icon","heterosexual icon","male icon","man icon","neuter icon","other gender icon","other gender horizontal icon","other gender vertical icon","woman icon"],"Layout Adjustment":["grid layout icon","list layout icon","block layout icon","zoom icon","zoom out icon","resize vertical icon","resize horizontal icon","maximize icon","crop icon"],Objects:["anchor icon","bar icon","bomb icon","book icon","bullseye icon","calculator icon","checkered flag icon","cocktail icon","diamond icon","fax icon","fire extinguisher icon","fire icon","gift icon","leaf icon","legal icon","lemon icon","life ring icon","lightning icon","magnet icon","money icon","moon icon","plane icon","puzzle icon","rain icon","road icon","rocket icon","shipping icon","soccer icon","suitcase icon","sun icon","travel icon","treatment icon","world icon"],Shapes:["asterisk icon","certificate icon","circle icon","circle notched icon","circle thin icon","crosshairs icon","cube icon","cubes icon","ellipsis horizontal icon","ellipsis vertical icon","quote left icon","quote right icon","spinner icon","square icon","square outline icon"],"Item Selection":["add circle icon","add square icon","check circle icon","check circle outline icon","check square icon","checkmark box icon","checkmark icon","minus circle icon","minus icon","minus square icon","minus square outline icon","move icon","plus icon","plus square outline icon","radio icon","remove circle icon","remove circle outline icon","remove icon","selected radio icon","toggle off icon","toggle on icon"],Media:["area chart icon","bar chart icon","camera retro icon","newspaper icon","film icon","line chart icon","photo icon","pie chart icon","sound icon"],Pointers:["angle double down icon","angle double left icon","angle double right icon","angle double up icon","angle down icon","angle left icon","angle right icon","angle up icon","arrow circle down icon","arrow circle left icon","arrow circle outline down icon","arrow circle outline left icon","arrow circle outline right icon","arrow circle outline up icon","arrow circle right icon","arrow circle up icon","arrow down icon","arrow left icon","arrow right icon","arrow up icon","caret down icon","caret left icon","caret right icon","caret up icon","chevron circle down icon","chevron circle left icon","chevron circle right icon","chevron circle up icon","chevron down icon","chevron left icon","chevron right icon","chevron up icon","long arrow down icon","long arrow left icon","long arrow right icon","long arrow up icon","pointing down icon","pointing left icon","pointing right icon","pointing up icon","toggle down icon","toggle left icon","toggle right icon","toggle up icon"],"Computer and File System":["desktop icon","disk outline icon","file archive outline icon","file audio outline icon","file code outline icon","file excel outline icon","file icon","file image outline icon","file outline icon","file pdf outline icon","file powerpoint outline icon","file text icon","file text outline icon","file video outline icon","file word outline icon","folder icon","folder open icon","folder open outline icon","folder outline icon","game icon","keyboard icon","laptop icon","level down icon","level up icon","mobile icon","power icon","plug icon","tablet icon","trash icon","trash outline icon"],Technologies:["barcode icon","css3 icon","database icon","fork icon","html5 icon","openid icon","qrcode icon","rss icon","rss square icon","server icon"],Rating:["empty heart icon","empty star icon","frown icon","heart icon","meh icon","smile icon","star half empty icon","star half icon","star icon","thumbs down icon","thumbs outline down icon","thumbs outline up icon","thumbs up icon"],Audio:["backward icon","eject icon","fast backward icon","fast forward icon","forward icon","music icon","mute icon","pause icon","play icon","record icon","step backward icon","step forward icon","stop icon","unmute icon","video play icon","video play outline icon","volume down icon","volume off icon","volume up icon"],Map:["building icon","building outline icon","car icon","coffee icon","emergency icon","first aid icon","food icon","h icon","hospital icon","location arrow icon","marker icon","military icon","paw icon","space shuttle icon","spoon icon","taxi icon","tree icon","university icon"],Tables:["columns icon","sort alphabet ascending icon","sort alphabet descending icon","sort ascending icon","sort content ascending icon","sort content descending icon","sort descending icon","sort icon","sort numeric ascending icon","sort numeric descending icon","table icon"],"Text Editor":["align center icon","align justify icon","align left icon","align right icon","attach icon","bold icon","copy icon","cut icon","font icon","header icon","indent icon","italic icon","linkify icon","list icon","ordered list icon","outdent icon","paragraph icon","paste icon","save icon","strikethrough icon","subscript icon","superscript icon","text height icon","text width icon","underline icon","unlink icon","unordered list icon"],Currency:["dollar icon","euro icon","lira icon","pound icon","ruble icon","rupee icon","won icon","shekel icon","yen icon"],"Payment Options":["american express icon","discover icon","google wallet icon","mastercard icon","paypal card icon","paypal icon","stripe icon","visa icon"],Brands:["adn icon","android icon","angellist icon","apple icon","behance icon","behance square icon","bitbucket icon","bitbucket square icon","bitcoin icon","buysellads icon","codepen icon","connectdevelop icon","dashcube icon","delicious icon","deviantart icon","digg icon","dribbble icon","dropbox icon","drupal icon","empire icon","facebook icon","facebook square icon","flickr icon","forumbee icon","foursquare icon","git icon","git square icon","github alternate icon","github icon","github square icon","gittip icon","google icon","google plus icon","google plus square icon","hacker news icon","instagram icon","ioxhost icon","joomla icon","jsfiddle icon","lastfm icon","lastfm square icon","leanpub icon","linkedin icon","linkedin square icon","linux icon","maxcdn icon","meanpath icon","medium icon","pagelines icon","pied piper alternate icon","pied piper icon","pinterest icon","pinterest square icon","qq icon","rebel icon","reddit icon","reddit square icon","renren icon","sellsy icon","shirtsinbulk icon","simplybuilt icon","skyatlas icon","skype icon","slack icon","slideshare icon","soundcloud icon","spotify icon","stack exchange icon","stack overflow icon","steam icon","steam square icon","stumbleupon circle icon","stumbleupon icon","tencent weibo icon","trello icon","tumblr icon","tumblr square icon","twitch icon","twitter icon","twitter square icon","viacoin icon","vimeo icon","vine icon","vk icon","wechat icon","weibo icon","whatsapp icon","windows icon","wordpress icon","xing icon","xing square icon","yahoo icon","yelp icon","youtube icon","youtube play icon","youtube square icon"]};t["default"]={FULL_ICONS_SET:i},e.exports=t["default"]}).call(this)}finally{}},function(e,t,i){try{(function(){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={version:1,qHyperCubeDef:{qDimensions:[],qMeasures:[],qInitialDataFetch:[{qWidth:25,qHeight:255}]},options:{}},e.exports=t["default"]}).call(this)}finally{}},function(e,t,i){try{(function(){"use strict";function i(e){var t=document.createElement("link");t.type="text/css",t.rel="stylesheet",t.href=e,document.getElementsByTagName("head")[0].appendChild(t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i,e.exports=t["default"]}).call(this)}finally{}},function(e,t,i){try{(function(){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t="0A",i=void 0;if(e.NumberFormatter&&e.qlik){var n=void 0;try{n=e.qlik.currApp().model.layout.qLocaleInfo}finally{var o=n&&n.qDecimalSep||".",a=n&&n.qThousandSep||",";i=new NumberFormatter(n,t,a,o,"U")}}return function(n,o){r["default"].render(r["default"].createElement(c["default"],{kpis:o.qHyperCube,options:l({},o.options,{numberFormatter:i,DEFAULT_AUTO_FORMAT:t}),services:{Routing:e.Routing,State:e.State,Qlik:e.qlik,DragDropService:e.DragDropService,QlikComponent:this},element:n[0]}),n[0])}}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e};t["default"]=o;var a=i(1),r=n(a),s=i(14),c=n(s);e.exports=t["default"]}).call(this)}finally{}},function(e,t,i){try{(function(){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=function(e,t,i){for(var n=!0;n;){var o=e,l=t,a=i;r=c=s=void 0,n=!1,null===o&&(o=Function.prototype);var r=Object.getOwnPropertyDescriptor(o,l);if(void 0!==r){if("value"in r)return r.value;var s=r.get;return void 0===s?void 0:s.call(a)}var c=Object.getPrototypeOf(o);if(null===c)return void 0;e=c,t=l,i=a,n=!0}},s=i(1),c=n(s),u=i(16),p=n(u),d=i(2),f=i(15),v=n(f),h=function(e){function t(e){o(this,t),r(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={size:e.options.size,clientWidth:e.element.clientWidth,clientHeight:e.element.clientHeight,overflow:null,valueFontStyleIndex:null}}return l(t,e),a(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){e.checkRequiredSize()},100)}},{key:"componentDidUpdate",value:function(){this.checkRequiredSize()}},{key:"componentWillReceiveProps",value:function(e){this.restoreSize()}},{key:"restoreSize",value:function(){var e=this.props.element.clientWidth,t=this.props.element.clientHeight,i=this.props.options.size;this.setState({size:i,overflow:null,clientWidth:e,clientHeight:t,valueFontStyleIndex:null})}},{key:"kpiItemResizeHandler",value:function(){if(this.props.options.autoSize){var e=this.state.size,t=d.getSizeIndex(e);t>0?this.setState({size:d.SIZE_OPTIONS[t-1].value}):this.state.valueFontStyleIndex?this.setState({valueFontStyleIndex:this.state.valueFontStyleIndex-1}):0!==this.state.valueFontStyleIndex&&this.setState({valueFontStyleIndex:d.FONT_SIZE_OPTIONS.length-1})}}},{key:"checkRequiredSize",value:function(){var e=this.props.element,t=.95*e.scrollWidth,i=.95*e.scrollHeight;if(this.props.options.autoSize){var n=this.state.size,o=this.props.element.clientWidth,l=this.props.element.clientHeight,a=this.state.clientWidth,r=this.state.clientHeight,s=0;if(e.clientHeight==e.scrollHeight&&this.state.size==this.props.options.size&&!this.state.overflow)return;if(this.refs["child-0"]&&(s=c["default"].findDOMNode(this.refs["child-0"]).clientHeight),e&&(e.clientHeight<i||s&&e.clientHeight<s||(a!=e.clientWidth||r!=e.clientHeight)&&n!=this.props.options.size))if(e.clientHeight<i||e.clientHeight<s||e.clientWidth<t){if(this.state.size==d.SIZE_OPTIONS[0].value&&"auto"===this.state.overflow)return;var u=d.getSizeIndex(n);u>0?this.setState({size:d.SIZE_OPTIONS[u-1].value,clientWidth:o,clientHeight:l,prevClientWidth:this.state.clientWidth,prevClientHeight:this.state.clientHeight}):0==u&&"auto"!==this.state.overflow&&this.setState({overflow:"auto"})}else(this.state.prevClientWidth>this.state.clientWidth||this.state.prevClientHeight>this.state.clientHeight)&&this.restoreSize()}else"auto"!==this.state.overflow&&(e.clientHeight<i||e.clientWidth<t)&&this.setState({overflow:"auto"})}},{key:"renderKpis",value:function(e,t,i){var n=this,o=this.props.element,l=this.props.options.numberFormatter,a=this.props.options.labelOrientation,r=this.props.services,s=this.props.options,u=this.state.size,p=d.getSizeIndex(u),f=d.getSizeIndex(this.props.options.size),h=0;-1!==f&&-1!==p&&(h=f-p);var m=e.qDimensionInfo.length,g=e.qMeasureInfo,b=e.qDataPages[0].qMatrix.length>0&&e.qDataPages[0].qMatrix[t],y=m>0&&b[0].qText,w=Math.ceil(g.length/i);return g.map(function(e,i){var p=m+i,f=e.size;if(h>0){var x=d.getSizeIndex(f);x=Math.max(0,h>0?x-h:x),f=d.SIZE_OPTIONS[x].value}var O={label:e.qFallbackTitle,value:"",measureIndex:i,numericValue:null,hideLabel:e.hideLabel,labelColor:e.labelColor,valueColor:e.valueColor,valueIcon:e.valueIcon,iconPosition:e.iconPosition,iconOrder:e.iconOrder,iconSize:e.iconSize,ovParams:e.ovParams,size:e.ovParams?f:u,labelOrder:e.ovParams?e.labelOrder:s.labelOrder,labelOrientation:e.ovParams?e.labelOrientation:a,fontStyles:{},kpiLink:e.kpiLink,useLink:e.useLink,textAlignment:e.textAlignment,infographic:e.infographic,embeddedItem:e.embeddedItem,mainContainerElement:o,kpisRows:w};O.onClick=n.onKPIClick.bind(n,O);var q=e.fontStyles&&e.fontStyles.split(",");if(q&&q.forEach(function(e){O.fontStyles[e]=e}),n.state.valueFontStyleIndex>=0&&n.state.valueFontStyleIndex<d.FONT_SIZE_OPTIONS.length&&(O.fontStyles.fontSize=d.FONT_SIZE_OPTIONS[n.state.valueFontStyleIndex]),p<b.length&&(O.value=b[p].qText,O.numericValue=b[p].qNum,e.qIsAutoFormat&&e.autoFormatTemplate&&e.autoFormatTemplate.length>0&&l)){var S=b[p].qNum;!isNaN(S)&&isFinite(S)&&(e.autoFormatTemplate?O.value=l.format(S,e.autoFormatTemplate):O.value=l.format(S,s.DEFAULT_AUTO_FORMAT))}if(!e.groupByDimension||e.groupByDimension&&e.groupByDimensionValue===y){var k=t*(m+g.length)+i;return c["default"].createElement(v["default"],{ref:"child-"+k,index:k,key:e.cId,item:O,options:s,services:r,onNeedResize:n.kpiItemResizeHandler.bind(n)})}return null})}},{key:"render",value:function(){var e=this,t=this.props.kpis,i=this.props.options,n=i.dimLabelOrientation,o=i.dimLabelSize,l=i.dimHideLabels,a=i.dimCenteredLabels,r=i.dimensionsOrientation,s=i.dimHideBorders,u=i.dimHideInternalBorders,f=i.dimShowAs,v=void 0===f?"segment":f,h=i.dimDivideBy,m=void 0===h?"auto":h,g=i.divideBy,b=i.styles,y=void 0===b?"":b,w=void 0;t.qMeasureInfo.length>0&&t.qDataPages.length>0&&!function(){"auto"===g&&(g=d.DIVIDE_BY[Math.min(10,t.qDataPages[0].qMatrix[0].length-t.qDimensionInfo.length)]);var i=Math.max(1,d.DIVIDE_BY.indexOf(g));t.qDimensionInfo.length>0?!function(){var p=0;"auto"===m&&(m=d.DIVIDE_BY[Math.min(10,t.qDimensionInfo[p].qCardinal)]);var f="card"===v?m+" stackable cards":"segments",h="";a&&(h="center aligned");var b={},y={};u&&(y.border="0"),s&&(b.border="0",b.boxShadow="none",y.boxShadow="none","card"===v&&(y.border="0")),w=c["default"].createElement("div",{className:"ui "+r+" "+f,style:b},t.qDataPages[0].qMatrix.map(function(a,r){var s=a[p].qText,u=a[p].qElemNumber,d=e.renderKpis(t,r,i);return c["default"].createElement("div",{className:"ui "+v,style:y},l?null:c["default"].createElement("a",{className:"ui "+o+" "+n+" "+h+" label",onClick:e.onDimensionLabelClick.bind(e,p,u)},s),c["default"].createElement("div",{ref:"statistics",className:"ui "+g+" statistics"},d))}))}():w=c["default"].createElement("div",{ref:"statistics",className:"ui "+g+" statistics"},e.renderKpis(t,0,i))}();var x={};return this.state.overflow&&(x.overflow=this.state.overflow,x.WebkitOverflowScrolling="touch"),c["default"].createElement("div",{className:"qv-object-qsstatistic",style:x},c["default"].createElement(p["default"],{stylesheet:y},w))}},{key:"onKPIClick",value:function(e){var t=this.props.services,i=this.props.services.State&&!this.props.services.State.isInEditMode();if(e.useLink&&i&&t.Routing){var n=void 0;n="string"==typeof e.kpiLink?e.kpiLink:e.kpiLink&&e.kpiLink.id,n&&t.Routing.goToSheet(n,"analysis")}}},{key:"onDimensionLabelClick",value:function(e,t){this.props.services&&this.props.services.QlikComponent&&this.props.services.QlikComponent.selectValues(e,[t],!0)}}]),t}(s.Component);t["default"]=h,e.exports=t["default"]}).call(this)}finally{}},function(e,t,i){try{(function(){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=function(e,t,i){for(var n=!0;n;){var o=e,l=t,a=i;r=c=s=void 0,n=!1,null===o&&(o=Function.prototype);var r=Object.getOwnPropertyDescriptor(o,l);if(void 0!==r){if("value"in r)return r.value;var s=r.get;return void 0===s?void 0:s.call(a)}var c=Object.getPrototypeOf(o);if(null===c)return void 0;e=c,t=l,i=a,n=!0}},s=i(1),c=n(s),u=i(2),p=i(3),d=(n(p),i(5)),f=n(d),v=function(e){function t(e){o(this,t),r(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e)}return l(t,e),a(t,[{key:"render",value:function(){var e=this.props,t=e.value,i=e.valueIcon,n=e.iconSize,o=e.infographic;if(o){var l=[];if(!isNaN(t)&&isFinite(t)){t=Math.min(1e3,t);for(var a=0;t>a;++a)l.push(c["default"].createElement("i",{key:a,className:i+" "+n}))}return c["default"].createElement("span",null,l)}return c["default"].createElement("i",{className:i+" "+n})}}]),t}(s.Component),h=function(e){function t(e){o(this,t),r(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e)}return l(t,e),a(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){e.checkRequiredSize()},100)}},{key:"componentDidUpdate",value:function(){this.checkRequiredSize()}},{key:"checkRequiredSize",value:function(){if(this.props.onNeedResize){var e=c["default"].findDOMNode(this.refs.value);if(e.firstChild){var t=e.firstChild,i=$(t).width();i>e.clientWidth&&this.props.onNeedResize()}}}},{key:"render",value:function(){var e=this.props.index,t=this.props.services,i=this.props.item,n=i.hideLabel,o=i.labelOrientation,l=void 0===o?"":o,a=i.labelOrder,r=i.iconOrder,s=i.labelColor,p=i.value,d=i.measureIndex,h=i.numericValue,m=i.valueColor,g=void 0===m?"":m,b=i.valueIcon,y=i.iconSize,w=void 0===y?"":y,x=i.size,O=void 0===x?"":x,q=i.fontStyles,S=i.onClick,k=i.textAlignment,D=void 0===k?"center":k,I=i.infographic,E=i.embeddedItem,C=i.mainContainerElement,j=i.kpisRows,P={padding:"0px 5px",textAlign:D},z={padding:"0px 5px",textAlign:D,color:g};s&&(P.color=s),q.bold&&(z.fontWeight="bold"),q.italic&&(z.fontStyle="italic"),q.underline&&(z.textDecoration="underline"),q.fontSize&&(z.fontSize=q.fontSize);var V="ui "+l+" "+O+" statistic";V=V.split(" ").filter(function(e){return e.trim().length>0}).join(" ");var _="first"===r,T=n?null:c["default"].createElement("div",{key:"lbl",className:"label",style:P},_&&"label"===this.props.item.iconPosition?c["default"].createElement(v,{valueIcon:b,iconSize:w,value:h,infographic:I}):null,this.props.item.label,_||"label"!==this.props.item.iconPosition?null:c["default"].createElement(v,{valueIcon:b,iconSize:w,value:h,infographic:I})),L={key:"val",ref:"value",measureIndex:d,embeddedItem:E,mainContainerElement:C,valueStyles:z,services:t,kpisRows:j},R=c["default"].createElement(f["default"],L,_&&"value"===this.props.item.iconPosition?c["default"].createElement(v,{valueIcon:b,iconSize:w,value:h,infographic:I}):null,p,/*!infographic ? value : null*/
_||"value"!==this.props.item.iconPosition?null:c["default"].createElement(v,{valueIcon:b,iconSize:w,value:h,infographic:I})),N=[];"first"===a?(N.push(T),N.push(R)):(N.push(R),N.push(T));var M={};S&&(M.cursor="pointer");var H=u.getDivideByValue(this.props.options.divideBy);H&&(M.width=H+"%");var F=c["default"].createElement("div",{className:"statistic statistic-"+(e+1),style:M,onClick:S},c["default"].createElement("div",{className:"ui one "+O+" statistics"},c["default"].createElement("div",{className:V},N)));return F}}]),t}(s.Component);t["default"]=h,e.exports=t["default"]}).call(this)}finally{}},function(e,t,i){var n=i(1),o=n.__spread,l=0,a=n.createClass({displayName:"InlineCss",propTypes:{namespace:n.PropTypes.string,componentName:n.PropTypes.string,stylesheet:n.PropTypes.string.isRequired,className:n.PropTypes.string,wrapper:n.PropTypes.string},_transformSheet:function(e,t,i){return e.replace(/}\s*/gi,"\n}\n").replace(/(^|{|}|;|,)\s*([&a-z0-9\-_\.:#\(\),>*\s]+)\s*(\{)/gi,function(e){return e.replace(new RegExp(t,"g"),"#"+i)})},render:function(){var e=this.props.namespace||"InlineCss-"+l++,t=this.props.componentName||"&",i=this._transformSheet(this.props.stylesheet,t,e),a=this.props.wrapper||"div",r=o({},this.props,{namespace:void 0,componentName:void 0,stylesheet:void 0,wrapper:void 0,id:e});return n.createElement(a,r,this.props.children,n.createElement("style",{scoped:!0,dangerouslySetInnerHTML:{__html:i}}))}});e.exports=a}]);